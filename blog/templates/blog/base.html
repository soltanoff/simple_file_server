{% extends "base.html" %}

{% load i18n admin_urls static admin_list %}

{% block extrastyle %}
    {{ block.super }}
    <!--star: code highlighting-->
    <link type="text/css" rel="stylesheet" href="{% static 'ckeditor/ckeditor/plugins/codesnippet/lib/highlight/styles/monokai_sublime.css' %}">
    <script src="{% static 'ckeditor/ckeditor/plugins/codesnippet/lib/highlight/highlight.pack.js' %}"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <!--end: code highlighting-->

    <link rel="stylesheet" type="text/css" href="{% static 'admin/css/changelists.css' %}" />
    {% if cl.formset %}
    <link rel="stylesheet" type="text/css" href="{% static 'admin/css/forms.css' %}" />
    {% endif %}
    {% if cl.formset or action_form %}
    <script type="text/javascript" src="{% url 'admin:jsi18n' %}"></script>
    {% endif %}
    {{ media.css }}
    {% if not actions_on_top and not actions_on_bottom %}
    <style>
      #changelist table thead th:first-child {width: inherit}
    </style>
    {% endif %}
{% endblock %}

{% block extrahead %}
{{ block.super }}
{{ media.js }}
{% endblock %}

{% block userlinks %}
    {% if user.is_staff %}<a href="{% url 'admin:index' %}">{% trans "Manage" %}</a> /{% endif %}
    <a href="{% url 'storage:index' %}">{% trans "File storage" %}</a>
    {% if user.get_short_name or user.get_username %}
    / <a href="{% url 'account:logout' %}">{% trans "Log out" %}</a>
    {% else %}
    / <a href="{% url 'account:login' %}">{% trans "Log in" %}</a>
    {% endif %}
{% endblock %}

{% load staticfiles %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/modify_blog.css' %}">
    <h1>Article storage</h1>
    <div id="content-main">
        {% if user.is_staff %}
        <ul class="object-tools">
            <li><a href="{% url 'blog:upload' %}" class="addlink">{% trans "Add article" %}</a></li>
        </ul>
        {% endif %}
        <div class="module" id="changelist">
            <div id="toolbar">
                <form id="changelist-search" method="get">
                    <div><!-- DIV needed for valid HTML -->
                        <label for="searchbar"><img src="{% static 'admin/img/search.svg' %}" alt="Search"/></label>
                        <input type="text" style="width:auto" name="q" value="{{ search }}" id="searchbar" autofocus/>
                        <input type="submit" value="{% trans 'Search' %}"/>
                    </div>
                </form>
            </div>
        </div>

        {% block page %}
        {% endblock %}
    </div>
{% endblock %}